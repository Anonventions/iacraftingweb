<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ItemsAdder Crafting Configurator</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

        body {
            font-family: 'Press Start 2P', sans-serif;
            margin: 0;
            padding: 0;
            background: url('https://wallpapers-clan.com/wp-content/uploads/2023/10/minecraft-grass-tree-desktop-wallpaper-preview.jpg') no-repeat center center fixed;
            background-size: cover;
            color: #dcdcdc;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            box-sizing: border-box;
        }

        .container {
            width: 100%;
            max-width: 800px;
            background-color: rgba(40, 40, 40, 0.9);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            border-radius: 8px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            padding: 10px;
        }

        header {
            background-color: #333;
            color: #00ff00;
            text-align: center;
            padding: 10px;
            border-bottom: 1px solid #444;
        }

        h1, h2 {
            margin: 0 0 10px;
            font-size: 1em;
            font-family: 'Press Start 2P', sans-serif;
            color: #00ff00;
        }

        h2 {
            border-bottom: 1px solid #444;
            padding-bottom: 5px;
            margin-bottom: 5px;
            font-size: 0.9em;
        }

        #main-content {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            padding: 10px;
            gap: 10px;
        }

        section {
            flex: 1 1 45%;
            margin-bottom: 10px;
            background-color: #333;
            border-radius: 8px;
            padding: 10px;
        }

        .form-group {
            margin-bottom: 8px;
        }

        .form-group label {
            display: block;
            margin-bottom: 3px;
            font-weight: bold;
            color: #ffffff;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 5px;
            box-sizing: border-box;
            border: 1px solid #555;
            border-radius: 4px;
            background-color: #444;
            color: #dcdcdc;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(3, 60px);
            grid-template-rows: repeat(3, 60px);
            gap: 3px;
            justify-content: center;
            margin: 5px 0;
            padding: 5px;
            background-color: #2b2b2b;
            border-radius: 4px;
        }

        .grid-cell {
            width: 60px;
            height: 60px;
            border: 1px solid #555;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #3c3c3c;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 1em;
            font-family: 'Press Start 2P', sans-serif;
            color: #fff;
        }

        .grid-cell:hover {
            background-color: #4c4c4c;
        }

        .item-list {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin: 5px 0;
        }

        .item {
            padding: 5px;
            border: 1px solid #555;
            border-radius: 4px;
            background-color: #444;
            cursor: grab;
            transition: background-color 0.3s, transform 0.3s;
            font-size: 0.8em;
        }

        .item:hover {
            background-color: #555;
            transform: scale(1.05);
        }

        .card-content {
            font-weight: bold;
            color: #dcdcdc;
        }

        #add-item {
            margin-top: 5px;
        }

        .actions {
            text-align: center;
            margin: 5px 0;
        }

        .btn {
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            background-color: #4CAF50;
            color: white;
            font-size: 0.8em;
            cursor: pointer;
            transition: background-color 0.3s;
            font-family: 'Press Start 2P', sans-serif;
        }

        .btn:hover {
            background-color: #45a049;
        }

        #output-section {
            padding: 10px;
            background-color: #333;
            border-top: 1px solid #444;
        }

        #config-output {
            background-color: #1e1e1e;
            border: 1px solid #444;
            padding: 8px;
            white-space: pre-wrap;
            overflow-x: auto;
            max-height: 120px;
            color: #f1f1f1;
            font-family: 'Courier New', Courier, monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ItemsAdder Crafting Configurator</h1>
        </header>
        <main id="main-content">
            <section id="config-options">
                <h2>Configuration</h2>
                <div class="form-group">
                    <label for="namespace">Namespace:</label>
                    <input type="text" id="namespace" placeholder="e.g., myitems">
                </div>
                <div class="form-group">
                    <label for="recipe-key">Recipe Key:</label>
                    <input type="text" id="recipe-key" placeholder="e.g., item_name">
                </div>
                <div class="form-group">
                    <label for="permission">Permission:</label>
                    <input type="text" id="permission" placeholder="e.g., myitems.item_name">
                </div>
                <div class="form-group">
                    <label for="enabled">Enabled:</label>
                    <select id="enabled">
                        <option value="true">True</option>
                        <option value="false">False</option>
                    </select>
                </div>
            </section>
            <section id="crafting-section">
                <h2>Crafting Grid</h2>
                <div class="grid-container">
                    <div class="grid-cell" data-row="1" data-col="1"></div>
                    <div class="grid-cell" data-row="1" data-col="2"></div>
                    <div class="grid-cell" data-row="1" data-col="3"></div>
                    <div class="grid-cell" data-row="2" data-col="1"></div>
                    <div class="grid-cell" data-row="2" data-col="2"></div>
                    <div class="grid-cell" data-row="2" data-col="3"></div>
                    <div class="grid-cell" data-row="3" data-col="1"></div>
                    <div class="grid-cell" data-row="3" data-col="2"></div>
                    <div class="grid-cell" data-row="3" data-col="3"></div>
                </div>
            </section>
            <section id="items-section">
                <h2>Available Items</h2>
                <div class="item-list">
                    <div class="item card" draggable="true" data-item="Example" data-letter="X">
                        <div class="card-content">
                            <span>Example (X)</span>
                        </div>
                    </div>
                </div>
                <div id="add-item">
                    <h3>Add Ingredient</h3>
                    <div class="form-group">
                        <input type="text" id="item-name" placeholder="Ingredient Name [e.g itemsadder:taco_shell]">
                    </div>
                    <div class="form-group">
                        <input type="text" id="item-letter" maxlength="1" placeholder="A">
                    </div>
                    <button id="add-item-button" class="btn">Add Item</button>
                </div>
            </section>
            <section id="result-section">
                <h2>Result</h2>
                <div class="form-group">
                    <label for="result-amount">Amount:</label>
                    <input type="number" id="result-amount" value="1" min="1">
                </div>
            </section>
        </main>
        <div class="actions">
            <button id="generate-config" class="btn">Generate Config</button>
        </div>
        <section id="output-section">
            <h2>Generated Config</h2>
            <pre id="config-output"></pre>
        </section>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const gridCells = document.querySelectorAll(".grid-cell");
            let draggedItem = null;

            // Drag and drop functionality
            document.addEventListener("dragstart", (e) => {
                if (e.target.classList.contains("item")) {
                    draggedItem = e.target;
                }
            });

            gridCells.forEach(cell => {
                cell.addEventListener("dragover", (e) => {
                    e.preventDefault();
                });

                cell.addEventListener("drop", (e) => {
                    e.preventDefault();
                    if (draggedItem) {
                        const letter = draggedItem.getAttribute("data-letter");
                        cell.textContent = letter;
                        cell.setAttribute("data-item", draggedItem.getAttribute("data-item"));
                        cell.setAttribute("data-letter", letter);
                    }
                });

                // Allow removing items from the grid by clicking
                cell.addEventListener("click", () => {
                    cell.textContent = "";
                    cell.removeAttribute("data-item");
                    cell.removeAttribute("data-letter");
                });
            });

            // Add new item
            document.getElementById("add-item-button").addEventListener("click", () => {
                const itemName = document.getElementById("item-name").value;
                const itemLetter = document.getElementById("item-letter").value.toUpperCase();

                if (itemName && itemLetter) {
                    const newItem = document.createElement("div");
                    newItem.classList.add("item", "card");
                    newItem.setAttribute("draggable", "true");
                    newItem.setAttribute("data-item", itemName);
                    newItem.setAttribute("data-letter", itemLetter);
                    newItem.innerHTML = `<div class="card-content">${itemName} (${itemLetter})</div>`;

                    document.querySelector(".item-list").appendChild(newItem);

                    document.getElementById("item-name").value = "";
                    document.getElementById("item-letter").value = "";
                } else {
                    alert('Please enter both item name and letter.');
                }
            });

            // Generate configuration
            document.getElementById("generate-config").addEventListener("click", () => {
                const namespace = document.getElementById("namespace").value;
                const recipeKey = document.getElementById("recipe-key").value;
                const permission = document.getElementById("permission").value;
                const enabled = document.getElementById("enabled").value;
                const resultAmount = document.getElementById("result-amount").value;

                const pattern = [];
                const ingredients = {};

                for (let row = 1; row <= 3; row++) {
                    let rowPattern = "";
                    for (let col = 1; col <= 3; col++) {
                        const cell = document.querySelector(`.grid-cell[data-row="${row}"][data-col="${col}"]`);
                        const letter = cell.getAttribute("data-letter");
                        if (letter) {
                            rowPattern += letter;
                            const itemName = cell.getAttribute("data-item");
                            if (!ingredients[letter]) {
                                ingredients[letter] = itemName;
                            }
                        } else {
                            rowPattern += "X";
                        }
                    }
                    pattern.push(rowPattern);
                }

                const resultItem = `${namespace}:${recipeKey}`;

                const config = `info:
  namespace: ${namespace}
recipes:
  crafting_table:
    ${recipeKey}:
      permission: ${permission}
      enabled: ${enabled}
      pattern:
${pattern.map(line => `      - '${line}'`).join('\n')}
      ingredients:
${Object.entries(ingredients).map(([key, value]) => `        ${key}: ${value}`).join('\n')}
      result:
        item: ${resultItem}
        amount: ${resultAmount}`;

                document.getElementById("config-output").textContent = config;
            });
        });
    </script>
</body>
</html>
